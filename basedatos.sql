--SELECT B.*
--FROM BEBEDORES B;


-- Generated by Oracle SQL Developer Data Modeler 23.1.0.087.0806
--   at:        2024-03-17 14:46:34 COT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE clientes (
    tipocliente   VARCHAR2(255 BYTE),
    estadocliente VARCHAR2(255 BYTE),
    usuarios_id   INTEGER NOT NULL
);

ALTER TABLE clientes ADD CONSTRAINT clientes_pk PRIMARY KEY (usuarios_id );

CREATE TABLE cuentas (
    idcuenta             INTEGER NOT NULL,
    tipo                 VARCHAR2(255 BYTE),
    numerocuenta         INTEGER,
    estado               VARCHAR2(255 BYTE),
    saldo                INTEGER,
    clientes_usuarios_id INTEGER NOT NULL
);

ALTER TABLE cuentas ADD CONSTRAINT cuentas_pk PRIMARY KEY ( idcuenta );

CREATE TABLE empleados (
    cargo              VARCHAR2(255 BYTE),
    usuarios_id        INTEGER NOT NULL,
    oficinas_idoficina INTEGER NOT NULL
);

ALTER TABLE empleados ADD CONSTRAINT empleados_pk PRIMARY KEY ( usuarios_id );

CREATE TABLE ob (
    id                   INTEGER NOT NULL,
    fecha                DATE,
    valor                INTEGER,
    clientes_usuarios_id INTEGER NOT NULL
);

ALTER TABLE ob ADD CONSTRAINT ob_pk PRIMARY KEY ( id );

CREATE TABLE obc (
    tipo             VARCHAR2(255 BYTE),
    ob_id            INTEGER NOT NULL,
    cuentas_idcuenta INTEGER NOT NULL
);

ALTER TABLE obc ADD CONSTRAINT obc_pk PRIMARY KEY ( ob_id );


CREATE TABLE obp (
    tipo                 VARCHAR2(255 BYTE),
    ob_id                INTEGER NOT NULL,
    prestamos_idprestamo INTEGER NOT NULL
);

ALTER TABLE obp ADD CONSTRAINT obp_pk PRIMARY KEY ( ob_id );


CREATE TABLE oficinas (
    idoficina           INTEGER NOT NULL,
    nombre              VARCHAR2(255 BYTE),
    direccion           VARCHAR2(255 CHAR),
    numeropuntoatencion INTEGER
);

ALTER TABLE oficinas ADD CONSTRAINT oficinas_pk PRIMARY KEY ( idoficina );

CREATE TABLE pa (
    id                 INTEGER NOT NULL,
    tipo               VARCHAR2(255 BYTE),
    oficinas_idoficina INTEGER NOT NULL
);

ALTER TABLE pa ADD CONSTRAINT pa_pk PRIMARY KEY ( id );

CREATE TABLE prestamos (
    idprestamo           INTEGER NOT NULL,
    monto                INTEGER,
    interes              INTEGER,
    numerocuotas         INTEGER,
    diapagocuotas        DATE,
    estado               VARCHAR2(255 BYTE),
    tipo                 VARCHAR2(255 BYTE),
    clientes_usuarios_id INTEGER NOT NULL
);

ALTER TABLE prestamos ADD CONSTRAINT prestamos_pk PRIMARY KEY ( idprestamo );

CREATE TABLE transferencias (
    cuentadestino INTEGER,
    obc_ob_id     INTEGER NOT NULL
    );

ALTER TABLE transferencias ADD CONSTRAINT transferencias_pk PRIMARY KEY ( obc_ob_id );

CREATE TABLE usuarios (
    id                   INTEGER NOT NULL,
    numerodocumento      INTEGER,
    tipodocumento        VARCHAR2(255 BYTE),
    nombre               VARCHAR2(255 BYTE),
    direccionfisica      VARCHAR2(255 BYTE),
    direccionelectronica VARCHAR2(255 BYTE),
    telefono             INTEGER,
    ciudad               VARCHAR2(255 BYTE),
    clave                VARCHAR2(255 BYTE),
    login                VARCHAR2(255 BYTE),
    nacionalidad         VARCHAR2(255 BYTE),
    departamento         VARCHAR2(255 BYTE),
    codigopostal         VARCHAR2(255 BYTE)
);

ALTER TABLE usuarios ADD CONSTRAINT usuarios_pk PRIMARY KEY ( id );

ALTER TABLE clientes
    ADD CONSTRAINT clientes_usuarios_fk FOREIGN KEY ( usuarios_id )
        REFERENCES usuarios ( id );
ALTER TABLE cuentas
    ADD CONSTRAINT cuentas_clientes_fk FOREIGN KEY ( clientes_usuarios_id )
        REFERENCES clientes ( usuarios_id );


ALTER TABLE empleados
    ADD CONSTRAINT empleados_oficinas_fk FOREIGN KEY ( oficinas_idoficina )
        REFERENCES oficinas ( idoficina );

ALTER TABLE empleados
    ADD CONSTRAINT empleados_usuarios_fk FOREIGN KEY ( usuarios_id )
        REFERENCES usuarios ( id );

ALTER TABLE ob
    ADD CONSTRAINT ob_clientes_fk FOREIGN KEY ( clientes_usuarios_id )
        REFERENCES clientes ( usuarios_id );

ALTER TABLE obc
    ADD CONSTRAINT obc_cuentas_fk FOREIGN KEY ( cuentas_idcuenta )
        REFERENCES cuentas ( idcuenta );

ALTER TABLE obc
    ADD CONSTRAINT obc_ob_fk FOREIGN KEY ( ob_id )
        REFERENCES ob ( id );

ALTER TABLE obp
    ADD CONSTRAINT obp_ob_fk FOREIGN KEY ( ob_id )
        REFERENCES ob ( id );

ALTER TABLE obp
    ADD CONSTRAINT obp_prestamos_fk FOREIGN KEY ( prestamos_idprestamo )
        REFERENCES prestamos ( idprestamo );

ALTER TABLE pa
    ADD CONSTRAINT pa_oficinas_fk FOREIGN KEY ( oficinas_idoficina )
        REFERENCES oficinas ( idoficina );

ALTER TABLE prestamos
    ADD CONSTRAINT prestamos_clientes_fk FOREIGN KEY ( clientes_usuarios_id )
        REFERENCES clientes ( usuarios_id );

ALTER TABLE transferencias
    ADD CONSTRAINT transferencias_obc_fk FOREIGN KEY ( obc_ob_id )
        REFERENCES obc ( ob_id );
        
DROP TABLE usuarios CASCADE CONSTRAINTS;
DROP TABLE oficinas CASCADE CONSTRAINTS;
DROP TABLE clientes CASCADE CONSTRAINTS;
DROP TABLE cuentas CASCADE CONSTRAINTS;
DROP TABLE empleados CASCADE CONSTRAINTS;
DROP TABLE ob CASCADE CONSTRAINTS;
DROP TABLE obc CASCADE CONSTRAINTS;
DROP TABLE obp CASCADE CONSTRAINTS;
DROP TABLE pa CASCADE CONSTRAINTS;
DROP TABLE prestamos CASCADE CONSTRAINTS;
DROP TABLE transferencias CASCADE CONSTRAINTS;

-- Oficinas
INSERT INTO OFICINAS (IDOFICINA, NOMBRE, DIRECCION, NUMEROPUNTOATENCION) VALUES ('001', 'Oficina1', 'Calle 1 #1-1', '1');
INSERT INTO OFICINAs (IDOFICINA, NOMBRE, DIRECCION, NUMEROPUNTOATENCION) VALUES ('002', 'Oficina2', 'Calle 2 #2-2', '2');
INSERT INTO OFICINAS (IDOFICINA, NOMBRE, DIRECCION, NUMEROPUNTOATENCION)VALUES ('003', 'Oficina3', 'Calle 3 #3-3', '3');
INSERT INTO OFICINAS (IDOFICINA, NOMBRE, DIRECCION, NUMEROPUNTOATENCION)VALUES ('004', 'Oficina4', 'Calle 4 #4-4', '4');
INSERT INTO OFICINAS (IDOFICINA, NOMBRE, DIRECCION, NUMEROPUNTOATENCION) VALUES ('005', 'Oficina5', 'Calle 5 #5-5', '5');

-- Usuarios
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('001','000000001','cc','Amelia Alvarez', 'Calle 11 #11-11', 'usuario1@gmail.com', '3200000001','Bogota','password','usuario1','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('002','000000002','cc','Boris Barrera', 'Calle 22 #22-22', 'usuario2@gmail.com', '3200000002','Bogota','password','usuario2','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('003','000000003','cc','Carlos Castro', 'Calle 33 #33-33', 'usuario3@gmail.com', '3200000003','Bogota','password','usuario3','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('004','000000004','cc','Diana Diaz', 'Calle 44 #44-44', 'usuario4@gmail.com', '3200000004','Bogota','password','usuario4','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('005','000000005','cc','Elena Espinosa', 'Calle 55 #55-55', 'usuario5@gmail.com', '3200000005','Bogota','password','usuario5','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('006','000000006','cc','Fernando Fernandez', 'Calle 66 #66-66', 'usuario6@gmail.com', '3200000006','Bogota','password','usuario6','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('007','000000007','cc','Gloria Gomez', 'Calle 77 #77-77', 'usuario7@gmail.com', '3200000007','Bogota','password','usuario7','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('008','000000008','cc','Hector Hernandez', 'Calle 88 #88-88', 'usuario8@gmail.com', '3200000008','Bogota','password','usuario8','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('009','000000009','cc','Isabel Ibanez', 'Calle 99 #99-99', 'usuario9@gmail.com', '3200000009','Bogota','password','usuario9','Colombiano','Cundinamarca', '110110');
INSERT INTO USUARIOS (ID,numeroDocumento, tipoDocumento, nombre, direccionFisica, direccionElectronica, telefono, ciudad, clave, login, nacionalidad, departamento, codigoPostal) 
VALUES ('010','000000010','cc','Juan Jimenez', 'Calle 1010 #1010-1010', 'usuario10@gmail.com', '3200000010','Bogota','password','usuario10','Colombiano','Cundinamarca', '110110');

--Clientes
INSERT INTO CLIENTES (usuarios_id, tipoCliente, estadoCliente)VALUES ('001','natural','activa');
INSERT INTO CLIENTES (usuarios_id, tipoCliente, estadoCliente)VALUES ('002','juridica','cerrada');
INSERT INTO CLIENTES (usuarios_id, tipoCliente, estadoCliente)VALUES ('003','natural','desactivida');
INSERT INTO CLIENTES (usuarios_id, tipoCliente, estadoCliente)VALUES ('004','juridica','activa');
INSERT INTO CLIENTES (usuarios_id, tipoCliente, estadoCliente)VALUES ('005','natural','activa');

--Empleados
INSERT INTO EMPLEADOS (usuarios_id, cargo, oficinas_idOficina) VALUES ('001','gerenteGeneral','001');
INSERT INTO EMPLEADOS (usuarios_id, cargo, oficinas_idOficina) VALUES ('006','gerenteOficina','001');
INSERT INTO EMPLEADOS (usuarios_id, cargo, oficinas_idOficina) VALUES ('007','cajero','001');
INSERT INTO EMPLEADOS (usuarios_id, cargo, oficinas_idOficina) VALUES ('008','gerenteGeneral','002');
INSERT INTO EMPLEADOS (usuarios_id, cargo, oficinas_idOficina) VALUES ('009','gerenteOficina','002');
INSERT INTO EMPLEADOS (usuarios_id, cargo, oficinas_idOficina) VALUES ('010','cajero','002');


--Puntos de Atencion
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('001', 'fisico', '001');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('002', 'cajero', '001');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('003', 'fisico', '002');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('004', 'cajero', '002');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('005', 'fisico', '003');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('006', 'cajero', '003');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('007', 'fisico', '004');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('008', 'cajero', '004');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('009', 'fisico', '005');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('010', 'cajero', '005');
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('011', 'web', null);
INSERT INTO puntos_de_atencion (id, tipo, idOficinaPK) VALUES ('012', 'web', null);

--Cuentas
INSERT INTO cuentas (idCuenta, tipo, numeroCuenta, estado,clientes_usuario_id, saldo)VALUES ('001','ahorros','0000002','activa','001','500000000');
INSERT INTO cuentas (idCuenta, tipo, numeroCuenta, estado, clientes_usuario_id, saldo)VALUES ('002','ahorros','0000002','activa','001','500000000');

--Prestamos
INSERT INTO prestamos(idPrestamo,monto, interes, numeroCuotas, diaPagoCuotas, estado, tipo, idClienteFK) VALUES('001','1000','10','3',TO_DATE('2024/03/16 12:00','yyy/mm/dd hh:mi'),'solicitado','automivil','005');

--Operacion Bancaria 
INSERT INTO ob (id,fecha, valor, cliente_usuarios_id) VALUES ('001',TO_DATE('2024/03/16 12:00','yyy/mm/dd hh:mi'),'1000000000', '001');
INSERT INTO ob (id,fecha, valor, cliente_usuarios_id) VALUES ('002',TO_DATE('2024/03/17 12:00','yyy/mm/dd hh:mi'),'500000000', '001');
INSERT INTO ob (id,fecha, valor, cliente_usuarios_id) VALUES ('003',TO_DATE('2024/03/17 12:00','yyy/mm/dd hh:mi'),'1000', '005');

--Operacion Bancaria Cuenta
INSERT INTO obc (ob_id, tipo,cuentas_idCuentas) VALUES ('001', 'abrir','001');

--Operacion Bancaria Prestamo
INSERT INTO obp (ob_id,tipo,prestamo_idPrestamo) VALUES ('002','solicitar','001');

--Transferencia
INSERT INTO transferencias (obc_ob_id,cuentaDestino) VALUES ('002', '002');
COMMIT;